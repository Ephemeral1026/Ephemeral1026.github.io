<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="陌上花开可缓缓归已">
    

    <!--Author-->
    
        <meta name="author" content="Liquor">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="昨日星辰">
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="陌上花开可缓缓归已">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="昨日星辰">

    <!--Type page-->
    
        <meta property="og:type" content="website">
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary">
    

    <!-- Title -->
    
    <title>昨日星辰</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">昨日星辰</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/11/13/pandas.DataFrame.stack-unstack/">
                pandas.DataFrame.stack
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-11-13</span>
            
            
            
                <span class="category">
                    <a href="/categories/Pandas/">Pandas</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="stack-将数据的列索引旋转为行索引-二重索引"><a href="#stack-将数据的列索引旋转为行索引-二重索引" class="headerlink" title="stack:将数据的列索引旋转为行索引(二重索引)"></a>stack:将数据的列索引旋转为行索引(二重索引)</h2><p>Single level columns</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">df_single_level_cols = pd.DataFrame([[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]],<br>								index=[<span class="hljs-string">'cat'</span>, <span class="hljs-string">'dog'</span>],<br>								columns=[<span class="hljs-string">'weight'</span>, <span class="hljs-string">'height'</span>])<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191113105817666.png" alt="在这里插入图片描述"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df_single_level_cols.stack()<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191113105915188.png" alt="在这里插入图片描述"><br>Multi level columns: simple case</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>multicol1 = pd.MultiIndex.from_tuples([(<span class="hljs-string">'weight'</span>, <span class="hljs-string">'kg'</span>),<br><span class="hljs-meta">... </span>                                       (<span class="hljs-string">'weight'</span>, <span class="hljs-string">'pounds'</span>)])<br><span class="hljs-meta">&gt;&gt;&gt; </span>df_multi_level_cols1 = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]],<br><span class="hljs-meta">... </span>                                    index=[<span class="hljs-string">'cat'</span>, <span class="hljs-string">'dog'</span>],<br><span class="hljs-meta">... </span>                                    columns=multicol1)<br>df_multi_level_cols1<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191113114250251.png" alt="在这里插入图片描述"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df_multi_level_cols1.stack()<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191113114315912.png" alt="在这里插入图片描述"><br>Missing values</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>multicol2 = pd.MultiIndex.from_tuples([(<span class="hljs-string">'weight'</span>, <span class="hljs-string">'kg'</span>),<br><span class="hljs-meta">... </span>                                       (<span class="hljs-string">'height'</span>, <span class="hljs-string">'m'</span>)])<br><span class="hljs-meta">&gt;&gt;&gt; </span>df_multi_level_cols2 = pd.DataFrame([[<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>], [<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>]],<br><span class="hljs-meta">... </span>                                    index=[<span class="hljs-string">'cat'</span>, <span class="hljs-string">'dog'</span>],<br><span class="hljs-meta">... </span>                                    columns=multicol2)<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/2019111313394295.png" alt="在这里插入图片描述"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">df_multi_level_cols2.stack()<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20191113134023828.png" alt="在这里插入图片描述"><br>Prescribing the level(s) to be stacked<br>规定要堆叠的水平<br>The first parameter controls which level or levels are stacked：<br><img src="https://img-blog.csdnimg.cn/20191113134244953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20191113134339806.png" alt="在这里插入图片描述"><br>Dropping missing values<br><img src="https://img-blog.csdnimg.cn/20191113135000597.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20191113135111933.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="unstack-将数据的行索引旋转为列索引"><a href="#unstack-将数据的行索引旋转为列索引" class="headerlink" title="unstack:将数据的行索引旋转为列索引"></a>unstack:将数据的行索引旋转为列索引</h2><p><img src="https://img-blog.csdnimg.cn/20191113135255197.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20191113135710825.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/11/11/pandas.Index.unique/">
                Pandas Index.unique()
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-11-11</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/10/31/MySQL运算符/">
                MySQL运算符
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-10-31</span>
            
            
            
                <span class="category">
                    <a href="/categories/MySQL运算符/">MySQL运算符</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>一、算术运算符<br><img src="https://img-blog.csdnimg.cn/20191031142408606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>二、比较运算符<br><img src="https://img-blog.csdnimg.cn/20191031155328715.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>三、逻辑运算符<br><img src="https://img-blog.csdnimg.cn/20191031161756484.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>运算符优先级<br><img src="https://img-blog.csdnimg.cn/20191031162117237.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/10/23/MT库编码库为待编的解决办法/">
                MT库编码库为待编的解决办法
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-10-23</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>1.首先筛选清单中为待编的数据，单独整理出一个表<br>2.处理好字段之后进入平台的百事门店库统一编码（字段一定要仔细核对）<br><img src="https://img-blog.csdnimg.cn/20191021141853174.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3.选择文件导入（如果新增数据与导入数据数量不一致，说明这些在门店库中已存在该编码）<br><img src="https://img-blog.csdnimg.cn/20191021141604112.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4.新增完成之后进行地址解析，显示地址解析已完成即可进行下一步<br><img src="https://img-blog.csdnimg.cn/20191021141807775.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>5.最后一步是百事班表的导入，把第二步的表拿过来导入即可<br>报错原因：</p>
<ol>
<li>直接进入到百事班表导入</li>
<li>没有去除门店编码-百事<br><img src="https://img-blog.csdnimg.cn/20191021142348559.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>不报错点击结果提示可看到导入结果<br><img src="https://img-blog.csdnimg.cn/20191021142405737.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li>
</ol>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/09/18/Day1 汉诺塔/">
                Day1 汉诺塔
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-09-18</span>
            
            
            
                <span class="category">
                    <a href="/categories/算法/">算法</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>汉诺塔问题是一个经典的问题。汉诺塔（Hanoi Tower），又称河内塔，源于印度一个古老传说。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着N片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，任何时候，在小圆盘上都不能放大圆盘，且在三根柱子之间一次只能移动一个圆盘。问应该如何操作？</p>
<p>试想一下，如果我们要将最大的圆盘移动到最右边的柱子上。我们需要把除此圆盘的其他圆盘先移动到中间的柱子上。因此这个问题就变成了如何将 N-1 个圆盘移动到中间的柱子上。很容易我们就想到了递归的方法。</p>
<p>将 N 个圆盘从左边柱子移动到右边柱子：<br>[递归的]将 N-1 个圆盘从左边柱子移动到中间柱子。<br>将最大的圆盘从左边柱子移动到右边柱子。<br>[递归的]将 N-1 个圆盘从中间柱子移动到右边柱子。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs undefined">def hanoi(height,<span class="hljs-keyword">left</span>=<span class="hljs-string">'left'</span>,<span class="hljs-keyword">right</span>=<span class="hljs-string">'right'</span>,middle=<span class="hljs-string">'middle'</span>):<br>    <span class="hljs-keyword">if</span> heigh<span class="hljs-variable">t:</span><br>        hanoi(height-<span class="hljs-number">1</span>,<span class="hljs-keyword">left</span>,middle,<span class="hljs-keyword">right</span>)<br>        <span class="hljs-keyword">print</span>(<span class="hljs-keyword">left</span>,<span class="hljs-string">'---&gt;'</span>,<span class="hljs-keyword">right</span>)<br>        hanoi(height-<span class="hljs-number">1</span>,middle,<span class="hljs-keyword">right</span>,<span class="hljs-keyword">left</span>)<br>hanoi(<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190918110904166.png" alt="在这里插入图片描述"></p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs undefined">def <span class="hljs-built_in">move</span>(n,a,b,c):<br>    <span class="hljs-built_in">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-built_in">print</span>(a,<span class="hljs-string">'---&gt;'</span>,c)<br>    <span class="hljs-built_in">else</span>:<br>        <span class="hljs-built_in">move</span>(n<span class="hljs-number">-1</span>,a,c,b)<br>        <span class="hljs-built_in">print</span>(a,<span class="hljs-string">'---&gt;'</span>,c)<br>        <span class="hljs-built_in">move</span>(n<span class="hljs-number">-1</span>,b,a,c)<br><span class="hljs-built_in">move</span>(<span class="hljs-number">3</span>,<span class="hljs-string">'A'</span>,<span class="hljs-string">'B'</span>,<span class="hljs-string">'C'</span>)<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/2019091811092026.png" alt="在这里插入图片描述"></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/09/09/pandas.Series.all/">
                pandas.Series.all
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-09-09</span>
            
            
            
                <span class="category">
                    <a href="/categories/Pandas/">Pandas</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>﻿详情参考pandas官方文档<br><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.all.html" target="_blank" rel="noopener">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.all.html</a><br>Series</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs undefined">&gt;&gt;&gt; pd.Series([<span class="hljs-literal">True</span>, <span class="hljs-literal">True</span>]).<span class="hljs-keyword">all</span>()<br><span class="hljs-literal">True</span><br>&gt;&gt;&gt; pd.Series([<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>]).<span class="hljs-keyword">all</span>()<br><span class="hljs-literal">False</span><br>&gt;&gt;&gt; pd.Series([]).<span class="hljs-keyword">all</span>()<br><span class="hljs-literal">True</span><br>&gt;&gt;&gt; pd.Series([np.nan]).<span class="hljs-keyword">all</span>()<br><span class="hljs-literal">True</span><br>&gt;&gt;&gt; pd.Series([np.nan]).<span class="hljs-keyword">all</span>(skipna=<span class="hljs-literal">False</span>)<br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>

<p>DataFrame</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs undefined"><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">df</span> <span class="hljs-string">=</span> <span class="hljs-string">pd.DataFrame(&#123;'col1':</span> <span class="hljs-string">[True,</span> <span class="hljs-literal">True</span><span class="hljs-string">],</span> <span class="hljs-string">'col2'</span><span class="hljs-string">:</span> <span class="hljs-string">[True,</span> <span class="hljs-literal">False</span><span class="hljs-string">]&#125;)</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">df</span><br>   <span class="hljs-string">col1</span>   <span class="hljs-string">col2</span><br><span class="hljs-number">0</span>  <span class="hljs-literal">True</span>   <span class="hljs-literal">True</span><br><span class="hljs-number">1</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span><br><br><span class="hljs-comment">#默认行为检查列方式值是否都返回True</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">df.all()</span><br><span class="hljs-string">col1</span>     <span class="hljs-literal">True</span><br><span class="hljs-string">col2</span>    <span class="hljs-literal">False</span><br><span class="hljs-attr">dtype:</span> <span class="hljs-string">bool</span><br><br><span class="hljs-comment">#以检查行方式值是否都返回True</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">df.all(axis='columns')</span><br><span class="hljs-number">0</span>     <span class="hljs-literal">True</span><br><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><br><span class="hljs-attr">dtype:</span> <span class="hljs-string">bool</span><br><br><span class="hljs-comment">#或者axis=None是否每个值都是True</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">df.all(axis=None)</span><br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure>


        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/09/06/透视表与交叉表/">
                透视表与交叉表
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-09-06</span>
            
            
            
                <span class="category">
                    <a href="/categories/Pandas/">Pandas</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>﻿类似excel数据透视 - pivot table / crosstab<br>透视表：pivot_table</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs undefined"># pd.pivot_table(data, <span class="hljs-built_in">values</span>=None, <span class="hljs-built_in">index</span>=None, columns=None, aggfunc=<span class="hljs-string">'mean'</span>, fill_value=None, margins=False, dropna=True, margins_name=<span class="hljs-string">'All'</span>)<br><br>date = [<span class="hljs-string">'2017-5-1'</span>,<span class="hljs-string">'2017-5-2'</span>,<span class="hljs-string">'2017-5-3'</span>]*<span class="hljs-number">3</span><br>rng = pd.to_datetime(date)<br>df = pd.DataFrame(&#123;<span class="hljs-string">'date'</span>:rng,<br>                   <span class="hljs-string">'key'</span>:<span class="hljs-keyword">list</span>(<span class="hljs-string">'abcdabcda'</span>),<br>                  <span class="hljs-string">'values'</span>:np.random.rand(<span class="hljs-number">9</span>)*<span class="hljs-number">10</span>&#125;)<br><span class="hljs-keyword">print</span>(df)<br><span class="hljs-keyword">print</span>(pd.pivot_table(df, <span class="hljs-built_in">values</span> = <span class="hljs-string">'values'</span>, <span class="hljs-built_in">index</span> = <span class="hljs-string">'date'</span>, columns = <span class="hljs-string">'key'</span>, aggfunc=np.sum))  # 也可以写 aggfunc=<span class="hljs-string">'sum'</span><br>data：DataFrame对象<br><span class="hljs-built_in">values</span>：要聚合的列或列的列表<br><span class="hljs-built_in">index</span>：数据透视表的<span class="hljs-built_in">index</span>，从原数据的列中筛选<br>columns：数据透视表的columns，从原数据的列中筛选<br>aggfunc：用于聚合的函数，默认为numpy.mean，支持numpy计算方法<br><span class="hljs-keyword">print</span>(pd.pivot_table(df, <span class="hljs-built_in">values</span> = <span class="hljs-string">'values'</span>, <span class="hljs-built_in">index</span> = [<span class="hljs-string">'date'</span>,<span class="hljs-string">'key'</span>], aggfunc=<span class="hljs-built_in">len</span>))<br>这里就分别以date、key共同做数据透视，值为<span class="hljs-built_in">values</span>：统计不同（date，key）情况下<span class="hljs-built_in">values</span>的平均值<br>aggfunc=<span class="hljs-built_in">len</span>(或者<span class="hljs-built_in">count</span>)：计数<br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190906184331206.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>交叉表：crosstab</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs undefined">默认情况下，crosstab计算因子的频率表，比如用于str的数据透视分析<br><span class="hljs-comment"># pd.crosstab(index, columns, values=None, rownames=None, colnames=None, aggfunc=None, margins=False, dropna=True, normalize=False)</span><br>df = pd.DataFrame(&#123;<span class="hljs-string">'A'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>],<br>                   <span class="hljs-string">'B'</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>],<br>                   <span class="hljs-string">'C'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, np.nan, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]&#125;)<br><span class="hljs-keyword">print</span>(df)<br><span class="hljs-keyword">print</span>(pd.crosstab(df[<span class="hljs-string">'A'</span>],df[<span class="hljs-string">'B'</span>]))<br><span class="hljs-comment"># 如果crosstab只接收两个Series，它将提供一个频率表。</span><br><span class="hljs-comment"># 用A的唯一值，统计B唯一值的出现次数</span><br><span class="hljs-keyword">print</span>(pd.crosstab(df[<span class="hljs-string">'A'</span>],df[<span class="hljs-string">'B'</span>],normalize=True))<br><span class="hljs-comment"># normalize：默认False，将所有值除以值的总和进行归一化 → 为True时候显示百分比</span><br><span class="hljs-keyword">print</span>(pd.crosstab(df[<span class="hljs-string">'A'</span>],df[<span class="hljs-string">'B'</span>],<span class="hljs-keyword">values</span>=df[<span class="hljs-string">'C'</span>],aggfunc=np.sum))<br><span class="hljs-comment"># values：可选，根据因子聚合的值数组</span><br><span class="hljs-comment"># aggfunc：可选，如果未传递values数组，则计算频率表，如果传递数组，则按照指定计算</span><br><span class="hljs-comment"># 这里相当于以A和B界定分组，计算出每组中第三个系列C的值</span><br><span class="hljs-keyword">print</span>(pd.crosstab(df[<span class="hljs-string">'A'</span>],df[<span class="hljs-string">'B'</span>],<span class="hljs-keyword">values</span>=df[<span class="hljs-string">'C'</span>],aggfunc=np.sum, margins=True))<br><span class="hljs-comment"># margins：布尔值，默认值False，添加行/列边距（小计）</span><br></code></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20190906184451959.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzU0ODEzNQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/09/06/星辰/">
                星辰
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-09-06</span>
            
            
            
                <span class="category">
                    <a href="/categories/心有余悸/">心有余悸</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>对于每个成年人来说，家里上有老、下有小，我们要挑起担子，软弱常常只能心中藏。当你感到疲惫的时候，想想这三件事。想明白了，可能就会发现生活也并没有那么糟糕。</p>
<p>1<br>第一件事，你每天快乐多还是忧愁多？</p>
<p>相信很多人都有过这样的经历：因为时时满心愁绪于工作，寻不得片刻闲；因为日日忧虑着生活，心情总是沉甸甸的。然后，笑脸变少了，愁容变多了。</p>
<p>我一直很喜欢苏轼乐观豁达的心态，他有诗云：“试问岭南应不好？却道，此心安处是吾乡。”的确如此，有时生活的好坏、烦恼的大小，不在于外物，而在于内心。</p>
<p>听过这样一个小故事：一个打铁匠整天闷闷不乐，嫌弃工作乏味。他羡慕邻居商人走南闯北的生活，每天都笑容满面。商人听完，不禁哑然一笑，然后提议互换职业。</p>
<p>打铁匠欣然同意，一开始他兴致勃勃地带着货物四处奔波，可没过几天就蔫了下来，觉得太忙碌了。等他回到自己的铁匠铺时，发现商人一边哼着小曲，一边抡着铁锤，一副悠然自得的样子。</p>
<p>打铁匠不解地问商人怎么那么开心。商人笑着说：“有顾客上门的时候打打铁，没事的时候喝喝小酒，多惬意！”</p>
<p>“那你之前做生意呢？”铁匠问。“也开心啊，每次卖出一批货物，就可以让我乐半天了。”商人的回答依旧云淡风轻。</p>
<p>如果事事放不下，心有千千结，自然无快乐可言；若遇事懂得看开，那么无论何时何地，都能品出万千欢喜。</p>
<p>这世上有阳光雨露，有鸟语花香，请每天给自己一个开心的理由，热气腾腾地活着。</p>
<p>2<br>第二件事，你给了家人几分陪伴？</p>
<p>我们的父母总是给我们最好的，留给自己最差的。</p>
<p>有这样一句话：“父母在，人生尚有来处；父母去，人生只剩归途。”有人对此感慨说：以前不谙其深意，只是跟着瞎念。等明白的时候，已然晚矣。虽年过半百，但当父母真正离开后，却如孤儿一般感觉无助。</p>
<p>流光容易把人抛，我们一眨眼就长大了，父母一晃就老了。与其想着衣锦还乡，不如在百忙之中抽出一点时间多陪陪父母。</p>
<p>父母想要的永远很简单，不过是你的一句问候、你报的一声平安。</p>
<p>就像那首耳熟能详的歌里所唱的，常回家看看，陪父母聊聊天，说说自己的事儿，哪怕他们可能听不太懂；听听他们的抱怨，即使你会有点不耐烦。</p>
<p>但不要忘了，家人闲坐，灯火可亲，这就是世间最大的幸福。</p>
<p>3<br>第三件事，钱到底有多重要？</p>
<p>生活是一场长途跋涉，单单钱这事就给我们设置了很多障碍。不得不说，如果兜里有钱，生活中的烦恼可以解决大半。</p>
<p>谈钱并不是唯金钱至上，而是因为钱能帮我们解决诸多问题，给生活兜底。谈钱并不俗，俗的是整个人都钻进了钱眼里。</p>
<p>但是，能用钱的多少来衡量生活中真正的快乐吗？不同的人心中有不同的答案，但相信对于很多人来讲，最渴望拥有的，其实只是简单、快乐的生活。</p>
<p>希望我们都有赚钱的能力，活出自己想要的样子，能去自己想去的远方，但并不会成为金钱的奴隶。</p>
<p>看过这样一句话：生命变得越来越灰暗，直到我们以为所有的光都离我们而去。然而光还在，一直都在。只要我们把门打开一条缝，光就会涌进来。</p>
<p>只要我们铿锵地跋涉下去，生活就可能会慢慢变成你喜欢的样子。只要我们珍惜眼前人眼前事，你会发现生活有千万种理由让你拥抱每一天。</p>
<p>人生本就多歧途，一时欣然一时悲。若你正在低谷，再努力一下，别放弃，未来终究可期。</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/09/06/去重以及替换/">
                ﻿去重以及替换
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-09-06</span>
            
            
            
                <span class="category">
                    <a href="/categories/Pandas/">Pandas</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs undefined">s = pd.Series([<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>])<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(s.duplicated()</span></span>)<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(s[s.duplicated()</span></span>==False])<br>s_re = s.drop_duplicates()<br><span class="hljs-function"><span class="hljs-title">print</span><span class="hljs-params">(s_re)</span></span><br><br>df = pd.DataFrame(&#123;<span class="hljs-string">'key1'</span>:[<span class="hljs-string">'a'</span>,<span class="hljs-string">'a'</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],<br>                  <span class="hljs-string">'key2'</span>:[<span class="hljs-string">'a'</span>,<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>]&#125;)<br>df.duplicated()<br>df[<span class="hljs-string">'key2'</span>].duplicated()<br></code></pre></td></tr></table></figure>

<p>替换<br>可一次性替换一个值或多个值<br>可传入列表或字典</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs undefined">s = pd.Series(list(<span class="hljs-string">'ascaazsd'</span>))<br>s<span class="hljs-built_in">.replace</span>(<span class="hljs-string">'a'</span>,np.nan)<br>s<span class="hljs-built_in">.replace</span>([<span class="hljs-string">'a'</span>,<span class="hljs-string">'s'</span>],np.nan)<br>s<span class="hljs-built_in">.replace</span>(&#123;<span class="hljs-string">'a'</span>:<span class="hljs-string">'hello world'</span>,<span class="hljs-string">'s'</span>:<span class="hljs-number">123</span>&#125;)<br></code></pre></td></tr></table></figure>


        </div>
    

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/11/13/pandas.DataFrame.stack-unstack/">pandas.DataFrame.stack</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/11/11/pandas.Index.unique/">Pandas Index.unique()</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/10/31/MySQL运算符/">MySQL运算符</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/10/23/MT库编码库为待编的解决办法/">MT库编码库为待编的解决办法</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/算法/">算法</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/MySQL运算符/">MySQL运算符</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/心有余悸/">心有余悸</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Pandas/">Pandas</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>